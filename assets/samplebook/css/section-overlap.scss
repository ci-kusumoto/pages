@use "../../scss/foundation" as *;

.l-main {
  background-color: rgba(#000, 0.4);
  min-height: 100vh;
}
.window {
  // background-color: #fff;
  // aspect-ratio: 16 / 9;
  // width: 70vw;
  // height: calc(70vw * (9 / 16));
  // border-radius: rem(12);
  // margin: 10vh auto;
  // border: 10px solid #000;
}


.js-sol {
  $this: &;

  position: relative;
  min-height: 100vh;
  &:first-child {
    #{$this}-wrapper {
      position: fixed;
    }
  }

  &-wrapper {
    // position: fixed;
    position: relative;
    width: 100%;
    top: 0;
    > * {
      position: relative;
      z-index: 1;
    }
    &.is-fixed-start {
      position: fixed;
    }
  }

  &-item {
    position: relative;
    background-color: #fafafa;
    transform: translate3d(0, var(--margin, 0), 0);
    width: 100%;
    img {
      width: 100%;
    }

    &:nth-child(2n) {
      background-color: #999;
    }

    > * {
      transform: scale(calc(1 - (var(--hide-progress, 0) * 0.05)));
      opacity: calc(1 - var(--hide-progress, 0));
    }

    &::before {
      content: "";
      display: block;
      width: 100%;
      height: 10px;
      background-color: #f00;
      top: 0;
      left: 0;
      position: absolute;
      z-index: 10;
    }
    &::after {
      content: "";
      display: block;
      width: 100%;
      height: 10px;
      background-color: #00f;
      bottom: 0;
      left: 0;
      position: absolute;
      z-index: 10;
    }
    @include mq("!pc") {
      &[class*="-escape"] {
        background-color: #fff;
      }
    }

    &[data-ignore="sp"] {
      @include mq("!pc") {
        display: contents;
      }
    }

    &[data-ignore="pc"] {
      @include mq("pc") {
        display: contents;
      }
    }
  }

  &-fadeout {
    background-color: #fff;
    @include mq("pc") {
      &::after {
        content: "";
        display: block;
        width: 100%;
        height: 100vh;
        position: absolute;
        top: 0;
        left: 0;
        background-color: #fff;
        z-index: 1;
      }
      > * {
        position: relative;
        z-index: 2;
        opacity: calc(1 - (var(--hide-progress) * 1.5));
      }
    }
  }

  &-fadein {
    @include mq("!pc") {
      background-color: #fff;
    }
    @include mq("pc") {
      &::before {
        content: "";
        display: block;
        width: 100%;
        height: calc(100vh + 200%);
        position: absolute;
        bottom: -100%;
        left: 0;
        background-color: #fff;
        z-index: 1;
        opacity: calc((var(--in-progress) * 1.5));
      }
      > * {
        position: relative;
        z-index: 2;
      }
    }
  }
}

.footer {
  position: relative;
  height: 500px;
  background-color: #333;
  z-index: 5;
}